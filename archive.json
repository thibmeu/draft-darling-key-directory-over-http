{
  "magic": "E!vIA5L86J2I",
  "timestamp": "2025-02-25T01:00:02.487549+00:00",
  "repo": "thibmeu/draft-darling-key-directory-over-http",
  "labels": [
    {
      "name": "bug",
      "description": "Something isn't working",
      "color": "d73a4a"
    },
    {
      "name": "documentation",
      "description": "Improvements or additions to documentation",
      "color": "0075ca"
    },
    {
      "name": "duplicate",
      "description": "This issue or pull request already exists",
      "color": "cfd3d7"
    },
    {
      "name": "enhancement",
      "description": "New feature or request",
      "color": "a2eeef"
    },
    {
      "name": "good first issue",
      "description": "Good for newcomers",
      "color": "7057ff"
    },
    {
      "name": "help wanted",
      "description": "Extra attention is needed",
      "color": "008672"
    },
    {
      "name": "invalid",
      "description": "This doesn't seem right",
      "color": "e4e669"
    },
    {
      "name": "question",
      "description": "Further information is requested",
      "color": "d876e3"
    },
    {
      "name": "wontfix",
      "description": "This will not be worked on",
      "color": "ffffff"
    }
  ],
  "issues": [
    {
      "number": 9,
      "id": "I_kwDONgO_Sc6q_wLq",
      "title": "Remove ohai-hpke prefix everywhere",
      "url": "https://github.com/thibmeu/draft-darling-key-directory-over-http/issues/9",
      "state": "CLOSED",
      "author": "thibmeu",
      "authorAssociation": "OWNER",
      "assignees": [
        "thibmeu"
      ],
      "labels": [],
      "body": "These are artifacts from previous versions",
      "createdAt": "2025-02-21T11:59:36Z",
      "updatedAt": "2025-02-21T14:22:06Z",
      "closedAt": "2025-02-21T14:22:05Z",
      "comments": []
    },
    {
      "number": 10,
      "id": "I_kwDONgO_Sc6rH-XE",
      "title": "Discuss how clients establish trust in a key",
      "url": "https://github.com/thibmeu/draft-darling-key-directory-over-http/issues/10",
      "state": "OPEN",
      "author": "jyasskin",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "Is it by trusting the TLS connection to the origin serving the key? (And how does that interact with the mirroring architecture in the draft?) Or is it by trusting a hash of the public key? (And how does that interact with rotation?) Or something else?",
      "createdAt": "2025-02-22T16:39:59Z",
      "updatedAt": "2025-02-22T16:48:01Z",
      "closedAt": null,
      "comments": [
        {
          "author": "thibmeu",
          "authorAssociation": "OWNER",
          "body": "This is indeed something that should be defined.\n\nThe intent is to bootstrap trust with TLS, given keys are distributed over HTTP, should it be to the server or a mirror.\n\nMore complex interaction, such as key transparency, or retrieving the key from multiple mirrors, are left out to future drafts within the [future consideration section](https://datatracker.ietf.org/doc/html/draft-darling-key-directory-over-http-00#name-future-considerations).\n\nIf you have suggestions, please comment on the issue",
          "createdAt": "2025-02-22T16:48:00Z",
          "updatedAt": "2025-02-22T16:48:00Z"
        }
      ]
    },
    {
      "number": 11,
      "id": "I_kwDONgO_Sc6rIHbj",
      "title": "Discuss how keys should be located",
      "url": "https://github.com/thibmeu/draft-darling-key-directory-over-http/issues/11",
      "state": "OPEN",
      "author": "jyasskin",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "The presence of https://thibmeu.github.io/draft-darling-key-directory-over-http/draft-darling-key-directory-over-http.html#name-well-known-url seems to imply that keys will be identified by their origin, rather than a URL, and that they need to be trusted over that whole origin. If that's your goal, it should be explicit in the draft. \n\nThis goal would also make the draft less general than its title claims: it's only for keys meant to govern entire origins, and not for any key transferred over HTTP(S).\n\nIf this limitation isn't your goal, you should talk about the tradeoffs between origin-wide keys and URL-identified keys.",
      "createdAt": "2025-02-22T17:05:41Z",
      "updatedAt": "2025-02-22T18:17:28Z",
      "closedAt": null,
      "comments": [
        {
          "author": "thibmeu",
          "authorAssociation": "OWNER",
          "body": "The draft recommends that protocols define a well-known URL for their protocol. It does not recommend any specifics for this registration. For instance, protocol MAY use path components or query strings to pass more specific information.\n\n[Section 3 of RFC8615](https://www.rfc-editor.org/rfc/rfc8615#section-3) specifies the following\n\n```\nRegistrations MAY also contain additional information, such as the\n   syntax of additional path components, query strings, and/or fragment\n   identifiers to be appended to the well-known URI, or protocol-\n   specific details (e.g., HTTP [[RFC7231](https://www.rfc-editor.org/rfc/rfc7231)] method handling).\n```\n\nI think this addresses your concern, without modification to the draft.",
          "createdAt": "2025-02-22T17:33:02Z",
          "updatedAt": "2025-02-22T17:33:02Z"
        },
        {
          "author": "jyasskin",
          "authorAssociation": "NONE",
          "body": "For protocols that can use a whole URL to identify keys, there's no need to define a .well-known path, and in fact such protocols should not do so (primarily because it's harder for many authors to put resources at such a domain-wide location, but also because it unnecessarily consumes space in the well-known registry and, depending on the .well-known description, can make bugs easier if an application converts a URL to an origin before looking for the key). It's fine to recommend this for origin-wide protocols (like several of the motivating protocols), but I don't think the recommendation is a good idea for all key-transfers over HTTP.\n\nIt's at least worth consulting the HTTPWG about this question.",
          "createdAt": "2025-02-22T18:17:27Z",
          "updatedAt": "2025-02-22T18:17:27Z"
        }
      ]
    }
  ],
  "pulls": [
    {
      "number": 1,
      "id": "PR_kwDONgO_Sc6KTNGC",
      "title": "small edits and clarifications",
      "url": "https://github.com/thibmeu/draft-darling-key-directory-over-http/pull/1",
      "state": "MERGED",
      "author": "fisherdarling",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "* small copy edits\r\n* clarified the truncated key id (likely need to link to the Privacy Pass draft here too)\r\n* discussed utility of HEAD requests",
      "createdAt": "2025-02-06T16:03:04Z",
      "updatedAt": "2025-02-07T13:18:32Z",
      "baseRepository": "thibmeu/draft-darling-key-directory-over-http",
      "baseRefName": "main",
      "baseRefOid": "51f3ff73d1a3411ce81c3015a4d9e845d4552a5e",
      "headRepository": "thibmeu/draft-darling-key-directory-over-http",
      "headRefName": "fisher/review",
      "headRefOid": "a34e6020b61fd0b5310fb93aa51209a126300a68",
      "closedAt": "2025-02-06T17:16:59Z",
      "mergedAt": "2025-02-06T17:16:59Z",
      "mergedBy": "thibmeu",
      "mergeCommit": {
        "oid": "35abb6c491f8b8e4a2cff7bab327e050f6f059d7"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDONgO_Sc6a74oK",
          "commit": {
            "abbreviatedOid": "a34e602"
          },
          "author": "thibmeu",
          "authorAssociation": "OWNER",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-02-06T17:15:20Z",
          "updatedAt": "2025-02-06T17:15:20Z",
          "comments": [
            {
              "originalPosition": 49,
              "body": "I like that",
              "createdAt": "2025-02-06T17:15:20Z",
              "updatedAt": "2025-02-06T17:15:20Z"
            }
          ]
        },
        {
          "id": "PRR_kwDONgO_Sc6a74so",
          "commit": {
            "abbreviatedOid": "a34e602"
          },
          "author": "thibmeu",
          "authorAssociation": "OWNER",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-02-06T17:15:28Z",
          "updatedAt": "2025-02-06T17:15:28Z",
          "comments": []
        }
      ]
    },
    {
      "number": 2,
      "id": "PR_kwDONgO_Sc6KTYb4",
      "title": "add sections on key selections and cache behavior",
      "url": "https://github.com/thibmeu/draft-darling-key-directory-over-http/pull/2",
      "state": "MERGED",
      "author": "fisherdarling",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "* add a WIP section on cache behavior\r\n* add section on key selection\r\n\r\nA key selection algorithm helps clients deterministically select a key and allows protocols\r\nwhich do not define a `not-before` and `not-after` a way of nudging clients towards the\r\nproper key.\r\n",
      "createdAt": "2025-02-06T16:21:29Z",
      "updatedAt": "2025-02-07T13:18:22Z",
      "baseRepository": "thibmeu/draft-darling-key-directory-over-http",
      "baseRefName": "main",
      "baseRefOid": "35abb6c491f8b8e4a2cff7bab327e050f6f059d7",
      "headRepository": "thibmeu/draft-darling-key-directory-over-http",
      "headRefName": "fisher/cache-section",
      "headRefOid": "9ee5b08e10d882f05de07799a8a17f307229337a",
      "closedAt": "2025-02-07T13:18:18Z",
      "mergedAt": "2025-02-07T13:18:18Z",
      "mergedBy": "thibmeu",
      "mergeCommit": {
        "oid": "5eae9a0d297dd4c6c22f41fd6eb8b9e2358bd294"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDONgO_Sc6a76yp",
          "commit": {
            "abbreviatedOid": "18a10e1"
          },
          "author": "thibmeu",
          "authorAssociation": "OWNER",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-02-06T17:19:22Z",
          "updatedAt": "2025-02-06T17:29:56Z",
          "comments": [
            {
              "originalPosition": 16,
              "body": "```suggestion\r\n2. If a not-before field exists, sort the remaining keys by their not-before\r\n```",
              "createdAt": "2025-02-06T17:19:23Z",
              "updatedAt": "2025-02-06T17:29:56Z"
            },
            {
              "originalPosition": 18,
              "body": "```suggestion\r\n3. Use the first key of the key directory, as it appears on the Key Directory format.\r\n```",
              "createdAt": "2025-02-06T17:20:20Z",
              "updatedAt": "2025-02-06T17:29:56Z"
            },
            {
              "originalPosition": 21,
              "body": "clients will know if a key has expired or not because there is either an explicit not-after/expire header, or there is max-age which replaces it with `not-after=time_of_retrieval+max_age`",
              "createdAt": "2025-02-06T17:21:52Z",
              "updatedAt": "2025-02-06T17:29:56Z"
            },
            {
              "originalPosition": 44,
              "body": "```suggestion\r\nusage for both the Client and Origin while preventing the client from using an invalid\r\n```",
              "createdAt": "2025-02-06T17:24:59Z",
              "updatedAt": "2025-02-06T17:29:56Z"
            },
            {
              "originalPosition": 50,
              "body": "while simple, I like that paragraph. it restates the goal",
              "createdAt": "2025-02-06T17:25:56Z",
              "updatedAt": "2025-02-06T17:29:56Z"
            },
            {
              "originalPosition": 57,
              "body": "do we want to impose constraints on that not-before,, such as it being a unix timestamp in seconds?\r\n",
              "createdAt": "2025-02-06T17:27:08Z",
              "updatedAt": "2025-02-06T17:29:56Z"
            },
            {
              "originalPosition": 62,
              "body": "```suggestion\r\nDirectory should be revalidated. Origins SHOULD provide a Cache-Control header, or Expires header which\r\n```",
              "createdAt": "2025-02-06T17:27:58Z",
              "updatedAt": "2025-02-06T17:29:56Z"
            },
            {
              "originalPosition": 62,
              "body": "i bet there is an rfc about it",
              "createdAt": "2025-02-06T17:28:08Z",
              "updatedAt": "2025-02-06T17:29:56Z"
            },
            {
              "originalPosition": 70,
              "body": "wouldn't this be covered by cache control `min-fresh` directive?",
              "createdAt": "2025-02-06T17:29:52Z",
              "updatedAt": "2025-02-06T17:29:56Z"
            }
          ]
        },
        {
          "id": "PRR_kwDONgO_Sc6a8S45",
          "commit": {
            "abbreviatedOid": "18a10e1"
          },
          "author": "fisherdarling",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-02-06T18:03:27Z",
          "updatedAt": "2025-02-06T18:03:27Z",
          "comments": [
            {
              "originalPosition": 57,
              "body": "Yep, good point! Most expiration times are in seconds in any case. And providing ms precision for a resource fetched over a network isn't super useful.",
              "createdAt": "2025-02-06T18:03:27Z",
              "updatedAt": "2025-02-06T18:03:42Z"
            }
          ]
        },
        {
          "id": "PRR_kwDONgO_Sc6bDPua",
          "commit": {
            "abbreviatedOid": "18a10e1"
          },
          "author": "ThePlexus",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-02-07T10:04:56Z",
          "updatedAt": "2025-02-07T10:04:57Z",
          "comments": [
            {
              "originalPosition": 70,
              "body": "That would be covered if we prescribe the client send min-fresh, for a single cache system. For CDNs (or mirrors of mirrors) that use multiple caching layers im not sure this is covered. ",
              "createdAt": "2025-02-07T10:04:56Z",
              "updatedAt": "2025-02-07T10:04:57Z"
            }
          ]
        },
        {
          "id": "PRR_kwDONgO_Sc6bDR64",
          "commit": {
            "abbreviatedOid": "18a10e1"
          },
          "author": "ThePlexus",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-02-07T10:08:45Z",
          "updatedAt": "2025-02-07T10:08:46Z",
          "comments": [
            {
              "originalPosition": 70,
              "body": "as discussed, we should use s-maxage and have some verbiage ",
              "createdAt": "2025-02-07T10:08:45Z",
              "updatedAt": "2025-02-07T10:08:46Z"
            }
          ]
        }
      ]
    },
    {
      "number": 3,
      "id": "PR_kwDONgO_Sc6Kn16c",
      "title": "Update draft-darling-key-directory-over-http.md",
      "url": "https://github.com/thibmeu/draft-darling-key-directory-over-http/pull/3",
      "state": "MERGED",
      "author": "ThePlexus",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "update caching section to remove cache lifetime conflict",
      "createdAt": "2025-02-10T10:41:43Z",
      "updatedAt": "2025-02-10T10:43:26Z",
      "baseRepository": "thibmeu/draft-darling-key-directory-over-http",
      "baseRefName": "main",
      "baseRefOid": "31b2208905a3b12d0d10b1b35518a1895796e7b2",
      "headRepository": "ThePlexus/draft-darling-key-directory-over-http",
      "headRefName": "cachefix",
      "headRefOid": "9fca0b1b87727238509a4519e8cd111d19c6e9c3",
      "closedAt": "2025-02-10T10:43:26Z",
      "mergedAt": "2025-02-10T10:43:25Z",
      "mergedBy": "thibmeu",
      "mergeCommit": {
        "oid": "770da2ef4b589d6523b4271b92651e3f9a743c1a"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDONgO_Sc6bSrWx",
          "commit": {
            "abbreviatedOid": "9fca0b1"
          },
          "author": "thibmeu",
          "authorAssociation": "OWNER",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-02-10T10:43:19Z",
          "updatedAt": "2025-02-10T10:43:19Z",
          "comments": []
        }
      ]
    },
    {
      "number": 4,
      "id": "PR_kwDONgO_Sc6Kn8Kl",
      "title": "fix cache-control example ",
      "url": "https://github.com/thibmeu/draft-darling-key-directory-over-http/pull/4",
      "state": "MERGED",
      "author": "ThePlexus",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "fix cache-control example ",
      "createdAt": "2025-02-10T10:53:35Z",
      "updatedAt": "2025-02-10T11:10:48Z",
      "baseRepository": "thibmeu/draft-darling-key-directory-over-http",
      "baseRefName": "main",
      "baseRefOid": "110c1b6d959264593ddd6cca1ed3527ec26c9a50",
      "headRepository": "ThePlexus/draft-darling-key-directory-over-http",
      "headRefName": "fixes",
      "headRefOid": "9d2ebf2b7887a91512b745aab88b2ef80d779c08",
      "closedAt": "2025-02-10T10:54:26Z",
      "mergedAt": "2025-02-10T10:54:26Z",
      "mergedBy": "thibmeu",
      "mergeCommit": {
        "oid": "dc21cd7fb47d7e87c24c4ecef4ff0029dde9c93b"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDONgO_Sc6bSxqq",
          "commit": {
            "abbreviatedOid": "9d2ebf2"
          },
          "author": "thibmeu",
          "authorAssociation": "OWNER",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-02-10T10:54:19Z",
          "updatedAt": "2025-02-10T10:54:19Z",
          "comments": []
        }
      ]
    },
    {
      "number": 5,
      "id": "PR_kwDONgO_Sc6KoM9t",
      "title": "Datestamp",
      "url": "https://github.com/thibmeu/draft-darling-key-directory-over-http/pull/5",
      "state": "MERGED",
      "author": "ThePlexus",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2025-02-10T11:26:27Z",
      "updatedAt": "2025-02-10T13:44:56Z",
      "baseRepository": "thibmeu/draft-darling-key-directory-over-http",
      "baseRefName": "main",
      "baseRefOid": "643c084b7a890eeacd72edb4b89921a5a3cfd108",
      "headRepository": "ThePlexus/draft-darling-key-directory-over-http",
      "headRefName": "datestamp",
      "headRefOid": "2f268460cc25b5cdb139b091702afd8a7720ed67",
      "closedAt": "2025-02-10T13:44:56Z",
      "mergedAt": "2025-02-10T13:44:56Z",
      "mergedBy": "thibmeu",
      "mergeCommit": {
        "oid": "719cccb7c2d81eec382da0843f03cea108d29cf8"
      },
      "comments": [],
      "reviews": []
    },
    {
      "number": 6,
      "id": "PR_kwDONgO_Sc6K7EAn",
      "title": "fix formatting",
      "url": "https://github.com/thibmeu/draft-darling-key-directory-over-http/pull/6",
      "state": "MERGED",
      "author": "ThePlexus",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2025-02-12T09:14:55Z",
      "updatedAt": "2025-02-12T09:24:48Z",
      "baseRepository": "thibmeu/draft-darling-key-directory-over-http",
      "baseRefName": "main",
      "baseRefOid": "d0d753ccad13003203e1cc145095a3dca1f7309a",
      "headRepository": "ThePlexus/draft-darling-key-directory-over-http",
      "headRefName": "formatfix",
      "headRefOid": "da0dfd9f8ab8819cc2ebd14519b9aa8b6fa1b6e2",
      "closedAt": "2025-02-12T09:24:48Z",
      "mergedAt": "2025-02-12T09:24:48Z",
      "mergedBy": "ThePlexus",
      "mergeCommit": {
        "oid": "f7d74f4efff889c000dc5b3734c849bfead57f53"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDONgO_Sc6bpTJZ",
          "commit": {
            "abbreviatedOid": "f6a4162"
          },
          "author": "thibmeu",
          "authorAssociation": "OWNER",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-02-12T09:23:30Z",
          "updatedAt": "2025-02-12T09:23:30Z",
          "comments": []
        }
      ]
    },
    {
      "number": 7,
      "id": "PR_kwDONgO_Sc6K7dFf",
      "title": "draft",
      "url": "https://github.com/thibmeu/draft-darling-key-directory-over-http/pull/7",
      "state": "CLOSED",
      "author": "fisherdarling",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2025-02-12T10:00:22Z",
      "updatedAt": "2025-02-12T10:25:38Z",
      "baseRepository": "thibmeu/draft-darling-key-directory-over-http",
      "baseRefName": "main",
      "baseRefOid": "f7d74f4efff889c000dc5b3734c849bfead57f53",
      "headRepository": "thibmeu/draft-darling-key-directory-over-http",
      "headRefName": "fisher/rename",
      "headRefOid": "3b16bd56a067efbaa06ebc3ecfe98e534f109ce0",
      "closedAt": "2025-02-12T10:17:29Z",
      "mergedAt": null,
      "mergedBy": null,
      "mergeCommit": null,
      "comments": [
        {
          "author": "thibmeu",
          "authorAssociation": "OWNER",
          "body": "while one name is required, this is a shared effort. the \"lead author\" name is removed anyway at a later point in the process.",
          "createdAt": "2025-02-12T10:25:35Z",
          "updatedAt": "2025-02-12T10:25:35Z"
        }
      ],
      "reviews": []
    },
    {
      "number": 8,
      "id": "PR_kwDONgO_Sc6LBGkZ",
      "title": "Remove RFC 2119 language",
      "url": "https://github.com/thibmeu/draft-darling-key-directory-over-http/pull/8",
      "state": "MERGED",
      "author": "thibmeu",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "in its current format, the draft is about recommendations. removing normative RFC 2119 language.\r\n\r\nThere are things that would actually be nice to define with a normative draft (thinking about all directories having a well know, a key id, or using http cache headers). These is input we'd take from the dispatch.",
      "createdAt": "2025-02-12T21:16:37Z",
      "updatedAt": "2025-02-13T09:17:34Z",
      "baseRepository": "thibmeu/draft-darling-key-directory-over-http",
      "baseRefName": "main",
      "baseRefOid": "f7d74f4efff889c000dc5b3734c849bfead57f53",
      "headRepository": "thibmeu/draft-darling-key-directory-over-http",
      "headRefName": "remove-normative-rfc2119",
      "headRefOid": "0c7397b153f648c4cd8986268ce52da70e3b34b0",
      "closedAt": "2025-02-13T09:12:06Z",
      "mergedAt": "2025-02-13T09:12:06Z",
      "mergedBy": "thibmeu",
      "mergeCommit": {
        "oid": "eba28de55e0ba9ee5e2f323abf5853621a3fd488"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDONgO_Sc6b0ySe",
          "commit": {
            "abbreviatedOid": "5b36c56"
          },
          "author": "fisherdarling",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-02-13T08:58:51Z",
          "updatedAt": "2025-02-13T08:59:38Z",
          "comments": [
            {
              "originalPosition": 171,
              "body": "```suggestion\n`max-age` cache directive or other directives. If an Origin\n```\n",
              "createdAt": "2025-02-13T08:58:51Z",
              "updatedAt": "2025-02-13T08:59:38Z"
            },
            {
              "originalPosition": 199,
              "body": "```suggestion\nIt is recommended protocols register a {{!WELL-KNOWN=RFC8615}} URL and associated\n```\n",
              "createdAt": "2025-02-13T08:59:22Z",
              "updatedAt": "2025-02-13T08:59:38Z"
            }
          ]
        }
      ]
    }
  ]
}